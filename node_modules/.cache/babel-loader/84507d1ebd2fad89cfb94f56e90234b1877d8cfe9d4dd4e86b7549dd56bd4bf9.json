{"ast":null,"code":"var _jsxFileName = \"/Users/manideepgonugunta/Desktop/study-portal/src/Components/Videocall.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { io } from \"socket.io-client\";\nimport { Peer } from \"peerjs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:5000\");\nconst Videocall = () => {\n  _s();\n  const [peerId, setPeerId] = useState(\"\");\n  const [remotePeerId, setRemotePeerId] = useState(\"\");\n  const peerInstance = useRef(null);\n  const myVideoRef = useRef();\n  const remoteVideoRef = useRef();\n  useEffect(() => {\n    const peer = new Peer();\n    peer.on(\"open\", id => {\n      setPeerId(id);\n    });\n    peer.on(\"call\", call => {\n      navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      }).then(stream => {\n        myVideoRef.current.srcObject = stream;\n        call.answer(stream);\n        call.on(\"stream\", remoteStream => {\n          remoteVideoRef.current.srcObject = remoteStream;\n        });\n      });\n    });\n    peerInstance.current = peer;\n  }, []);\n  const callUser = () => {\n    navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    }).then(stream => {\n      myVideoRef.current.srcObject = stream;\n      const call = peerInstance.current.call(remotePeerId, stream);\n      call.on(\"stream\", remoteStream => {\n        remoteVideoRef.current.srcObject = remoteStream;\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Video Call\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Your ID: \", peerId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter peer ID\",\n      onChange: e => setRemotePeerId(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: callUser,\n      children: \"Call\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: myVideoRef,\n        autoPlay: true,\n        playsInline: true,\n        style: {\n          width: \"300px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: remoteVideoRef,\n        autoPlay: true,\n        playsInline: true,\n        style: {\n          width: \"300px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(Videocall, \"7YZHHQUa9/hbfFpZ03/KyzeQdxg=\");\n_c = Videocall;\nexport default Videocall;\nvar _c;\n$RefreshReg$(_c, \"Videocall\");","map":{"version":3,"names":["React","useEffect","useRef","useState","io","Peer","jsxDEV","_jsxDEV","socket","Videocall","_s","peerId","setPeerId","remotePeerId","setRemotePeerId","peerInstance","myVideoRef","remoteVideoRef","peer","on","id","call","navigator","mediaDevices","getUserMedia","video","audio","then","stream","current","srcObject","answer","remoteStream","callUser","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","value","onClick","ref","autoPlay","playsInline","style","width","_c","$RefreshReg$"],"sources":["/Users/manideepgonugunta/Desktop/study-portal/src/Components/Videocall.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { io } from \"socket.io-client\";\nimport { Peer } from \"peerjs\";\n\nconst socket = io(\"http://localhost:5000\");\n\nconst Videocall = () => {\n  const [peerId, setPeerId] = useState(\"\");\n  const [remotePeerId, setRemotePeerId] = useState(\"\");\n  const peerInstance = useRef(null);\n  const myVideoRef = useRef();\n  const remoteVideoRef = useRef();\n\n  useEffect(() => {\n    const peer = new Peer();\n\n    peer.on(\"open\", (id) => {\n      setPeerId(id);\n    });\n\n    peer.on(\"call\", (call) => {\n      navigator.mediaDevices.getUserMedia({ video: true, audio: true }).then((stream) => {\n        myVideoRef.current.srcObject = stream;\n        call.answer(stream);\n        call.on(\"stream\", (remoteStream) => {\n          remoteVideoRef.current.srcObject = remoteStream;\n        });\n      });\n    });\n\n    peerInstance.current = peer;\n  }, []);\n\n  const callUser = () => {\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true }).then((stream) => {\n      myVideoRef.current.srcObject = stream;\n      const call = peerInstance.current.call(remotePeerId, stream);\n      call.on(\"stream\", (remoteStream) => {\n        remoteVideoRef.current.srcObject = remoteStream;\n      });\n    });\n  };\n\n  return (\n    <div>\n      <h2>Video Call</h2>\n      <p>Your ID: {peerId}</p>\n      <input\n        type=\"text\"\n        placeholder=\"Enter peer ID\"\n        onChange={(e) => setRemotePeerId(e.target.value)}\n      />\n      <button onClick={callUser}>Call</button>\n      <div>\n        <video ref={myVideoRef} autoPlay playsInline style={{ width: \"300px\" }} />\n        <video ref={remoteVideoRef} autoPlay playsInline style={{ width: \"300px\" }} />\n      </div>\n    </div>\n  );\n};\n\nexport default Videocall;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}